{"version":3,"sources":["rules.ts","components/Producer.tsx","namegen/NameGen.ts","components/PickNamePopup.tsx","index.tsx"],"names":["Rules","level","category","dt","Decimal","multiply","pow","currentLevel","levelsToIncrease","retval","i","add","cost","number","lessThan","trunc","toString","dividedBy","toFixed","toExponential","Producer","times","this","props","upgrade","bugs","projectName","user","featureName","upgradeCost","recursiveCost","upgradeCost10","upgradeCost100","allIn","allInCost","greaterThanOrEqualTo","ratio","toNumber","moneyDiff","subtract","profit","earnings","nextProfit","currentPercent","Math","floor","nextPercent","elevation","style","marginBottom","fill","vertical","textAlign","str","icon","text","onClick","bind","disabled","abs","greaterThan","key","intent","value","animate","React","Component","NameGen","minLength","maxLength","userNames","Foswig","GithubData","forEach","addWordToChain","login","generateWord","projectNames","Set","flatMap","organizations","org","Buzzwords","ifys","random","length","trim","buzzs","PickNamePopup","state","name","givenName","onPicked","setState","console","log","changeName","getProjectName","currentName","confirmButtonText","isOpen","open","onConfirm","send","onCancel","cancel","undefined","cancelButtonText","large","placeholder","rightElement","minimal","randomName","onChange","e","target","small","bug","aria-hidden","focusable","data-prefix","data-icon","className","role","xmlns","viewBox","width","height","d","nuke","App","oldDate","Date","now","commits","forks","getUserName","feature","getFeatureName","nuking","savedata","localStorage","getItem","saveObject","JSON","parse","fromString","requestAnimationFrame","updateBank","oldBugs","oldCommits","newBugs","fork","setTimeout","setItem","stringify","upgrades","currentBugs","bank","renameProject","Intent","DANGER","removeItem","componentDidMount","fixedToTop","color","Colors","BLACK","paddingTop","Heading","iconSize","marginRight","active","openRename","marginTop","map","document","body","Classes","DARK","backgroundColor","a","createElement","appendChild","ReactDOM","render"],"mappings":"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","file":"static/js/main.d958a30e.chunk.js","sourcesContent":["import Decimal from \"break_infinity.js\";\r\n\r\nexport class Rules{\r\n    public static earnings (level:number, category:number, dt:number):Decimal{\r\n        //(UpgradeLevel) * (BuildingCategory ^ 5.6)\r\n        return new Decimal(level).multiply(((category + 1)  ** 5.6)).multiply(dt);\r\n    }\r\n\r\n    private static cost (level:number, category:number):Decimal{\r\n        //(2*BuildingCategory ^ 5.6) * (UpgradeLevel^2.5)\r\n        return new Decimal(category+1).pow(5.6).multiply(2).multiply(level**2.5)\r\n    }\r\n\r\n    public static recursiveCost (currentLevel:number, category:number, levelsToIncrease:number)\r\n    {\r\n        let retval = new Decimal(0);\r\n        for (let i = 0; i < levelsToIncrease; i++) {\r\n            retval = retval.add(Rules.cost(currentLevel+i+1,category))\r\n        }\r\n        return retval;\r\n    }\r\n\r\n    public static str(number:Decimal):string{\r\n        if (number.lessThan(1000))\r\n        {\r\n            return number.trunc().toString();\r\n        }\r\n        else if (number.lessThan(1000000))\r\n        {\r\n            return number.dividedBy(1000).toFixed(1) + \"k\";\r\n        }\r\n        else if (number.lessThan(1000000000))\r\n        {\r\n            return number.dividedBy(1000000).toFixed(1).toString() + \"m\";\r\n        }\r\n        else\r\n        {\r\n            return number.toExponential(1);\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Button, Card,  ProgressBar, H4, ControlGroup } from \"@blueprintjs/core\";\r\nimport Decimal from \"break_infinity.js\";\r\nimport { Rules } from \"../rules\";\r\n\r\ninterface ProducerProps {\r\n    category: number;\r\n    level:number;\r\n    bugs:Decimal;\r\n    projectName:string;\r\n    user:string;\r\n    featureName:string;\r\n    upgrade: (category: number, times:number) => void;\r\n}\r\n\r\nexport class Producer extends React.Component<ProducerProps>{\r\n    upgrade (times:number) {\r\n        this.props.upgrade(this.props.category, times);\r\n    }\r\n\r\n    render() {\r\n        const { category, level, bugs, projectName, user, featureName } = this.props;\r\n        const upgradeCost = Rules.recursiveCost(level,category,1);\r\n        const upgradeCost10 = Rules.recursiveCost(level,category,10);\r\n        const upgradeCost100 = Rules.recursiveCost(level,category,100);\r\n\r\n        let allIn = 1;\r\n        let allInCost = Rules.recursiveCost(level,category,1);\r\n        while (bugs.greaterThanOrEqualTo(allInCost))\r\n        {\r\n            allIn++;\r\n            allInCost = Rules.recursiveCost(level,category,allIn);\r\n        }\r\n        allIn--;\r\n\r\n        const ratio = bugs.dividedBy(upgradeCost).toNumber();\r\n\r\n        const moneyDiff = bugs.subtract(upgradeCost);\r\n        const profit = Rules.earnings(level,category,1);\r\n        const nextProfit = Rules.earnings(level+1,category,1);\r\n\r\n        const currentPercent = Math.floor(level/10);\r\n        const nextPercent = Math.floor((level+1)/10);\r\n\r\n        return( <Card elevation={4} style={{marginBottom:10}} >\r\n            <ControlGroup fill={true} vertical={false}>\r\n                \r\n            <H4>{\"Feature: \" + featureName}</H4>\r\n            <p style={{textAlign:\"right\"}}>{\"(\" + user+\"/\"+projectName + \")\"}</p>\r\n            </ControlGroup>\r\n            \r\n            <ControlGroup fill={true} vertical={false}>\r\n                <p style={{textAlign:\"left\"}}>{\"Current rate: \" + Rules.str(profit) + \" bugs/sec\" + (currentPercent > 0? \" + Global \" + currentPercent + \"%\":\"\")}</p>\r\n                <p style={{textAlign:\"center\"}}>{\"Merged: \" + level}</p>\r\n                <p style={{textAlign:\"right\"}}>{\"Next feature: \" + Rules.str(nextProfit)+ \" bugs/sec\"  + (nextPercent > 0 && nextPercent !== currentPercent ? \" + Global \" + nextPercent + \"%\":\"\")}</p>\r\n            </ControlGroup>\r\n            <ControlGroup fill={false} vertical={false}>\r\n                <Button icon=\"git-pull\" text={\"Pull\"} onClick={this.upgrade.bind(this, 1)} disabled={bugs.lessThan(upgradeCost)} />\r\n                <Button icon=\"git-pull\" text={\"x10\"} onClick={this.upgrade.bind(this, 10)} disabled={bugs.lessThan(upgradeCost10) || level === 0} />\r\n                <Button icon=\"git-pull\" text={\"x100\"} onClick={this.upgrade.bind(this, 100)} disabled={bugs.lessThan(upgradeCost100) || level === 0} />\r\n\r\n                {allIn>1 ?(\r\n                    <Button icon=\"git-pull\" text={\"ALL IN! (x\"+allIn+\")\"} onClick={this.upgrade.bind(this, allIn)} />\r\n                ) : (null)}\r\n\r\n            </ControlGroup>\r\n            <p>{\"This branch is \" + Rules.str(moneyDiff.abs()) + \" commits \" + (moneyDiff.greaterThan(0)? \"ahead\":\"behind\") + \" of master (\"+Rules.str(upgradeCost) + \" commits)\"}</p>\r\n                <ProgressBar key=\"plsupdate\" intent={bugs.lessThan(upgradeCost)?\"none\":\"success\"} value={ratio} animate={true} />\r\n        </Card>\r\n        )\r\n    }\r\n}","\r\n//import GithubData from \"./github-users-stats.json\";\r\nimport GithubData from \"./github-login-org.json\";\r\nimport Buzzwords from \"./buzzwords.json\";\r\nimport Foswig from \"foswig\";\r\n\r\nexport class NameGen\r\n{\r\n    private static userNames:Foswig;\r\n    private static projectNames:Foswig\r\n\r\n    public static getUserName(minLength?: number, maxLength?: number)\r\n    {\r\n        if (!NameGen.userNames)\r\n        {\r\n            NameGen.userNames = new Foswig(3);\r\n            GithubData.forEach((user:GithubPurgedUser) => {NameGen.userNames.addWordToChain(user.login)});\r\n        }\r\n        return NameGen.userNames.generateWord(minLength,maxLength,false,50);\r\n    }\r\n\r\n    public static getProjectName(minLength?: number, maxLength?: number)\r\n    {\r\n        if (!NameGen.projectNames)\r\n        {\r\n            NameGen.projectNames = new Foswig(3);\r\n            new Set(GithubData.flatMap((user:GithubPurgedUser) => user.organizations)).forEach((org:string) => NameGen.projectNames.addWordToChain(org));\r\n        }\r\n        return NameGen.projectNames.generateWord(minLength,maxLength,false,50);\r\n    }\r\n\r\n    public static getFeatureName():string\r\n    {\r\n        return Buzzwords.ifys[Math.floor(Math.random() * Buzzwords.ifys.length)].trim() + \" \" + Buzzwords.buzzs[Math.floor(Math.random() * Buzzwords.buzzs.length)].trim()\r\n    }\r\n}\r\n\r\nexport interface GithubUser {\r\n    name: string;\r\n    login: string;\r\n    location: string;\r\n    language: string;\r\n    gravatar: string;\r\n    followers: number;\r\n    organizations: string[];\r\n    contributions: number;\r\n}\r\n\r\nexport interface GithubPurgedUser {\r\n\r\n    login: string;\r\n    organizations: string[];\r\n}","import React from \"react\";\r\n\r\nimport { Alert, Button, InputGroup } from \"@blueprintjs/core\";\r\nimport { NameGen } from \"../namegen/NameGen\";\r\n\r\ninterface PickNamePopupProps {\r\n    open:boolean;\r\n    givenName:string;\r\n    onPicked: (name: string) => void;\r\n}\r\n\r\ninterface PickedNamePopupState\r\n{\r\n    name:string;\r\n}\r\n\r\nexport class PickNamePopup extends React.Component<PickNamePopupProps, PickedNamePopupState>{\r\n\r\n    state:PickedNamePopupState = {name : null};\r\n    send () {\r\n        const name = this.state.name ?? this.props.givenName;\r\n        if (name)\r\n        {\r\n            this.props.onPicked(name)\r\n            this.setState({name:null})\r\n        }\r\n    }\r\n\r\n    cancel()\r\n    {\r\n        this.props.onPicked(this.props.givenName)\r\n        this.setState({name:null})\r\n    }\r\n\r\n    changeName(name:string)\r\n    {\r\n        console.log(\"setting name\", name)\r\n        this.setState({name:name})\r\n    }\r\n\r\n    randomName()\r\n    {\r\n        this.changeName(NameGen.getProjectName(5,12));\r\n    }\r\n    render() {\r\n        let {givenName} = this.props;\r\n        const currentName:string = this.state.name ?? givenName;\r\n\r\n        return(\r\n            <Alert\r\n            confirmButtonText=\"Save\"\r\n            icon=\"edit\"\r\n            isOpen={this.props.open}\r\n            onConfirm={this.send.bind(this)}\r\n            onCancel={givenName ? this.cancel.bind(this): undefined}\r\n            cancelButtonText={givenName ? \"Cancel\": undefined}\r\n            >\r\n            <p>\r\n                Pick a cool name for your repo\r\n            </p>\r\n            <InputGroup\r\n                    large={true}\r\n                    placeholder=\"\"\r\n                    rightElement= {<Button\r\n                        icon={\"random\"}\r\n                        minimal={true}\r\n                        onClick={this.randomName.bind(this)}\r\n                        />\r\n                    }\r\n                    value={currentName}\r\n                    onChange={(e:any)=>this.changeName(e.target.value)}\r\n                    small={false}\r\n                    maxLength={12}\r\n                    intent={currentName.length === 0 ? \"danger\": \"none\"}\r\n                />\r\n        </Alert>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Decimal from \"break_infinity.js\";\r\n\r\nimport \"@blueprintjs/core/lib/css/blueprint.css\"\r\n\r\nimport { Producer } from './components/Producer';\r\n\r\nimport { Classes, Colors, H1, Icon, H3, Button, Navbar, Alert, Intent } from \"@blueprintjs/core\";\r\nimport { Rules } from \"./rules\";\r\nimport { PickNamePopup } from \"./components/PickNamePopup\";\r\nimport { NameGen } from \"./namegen/NameGen\";\r\n\r\nconst bug = <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"bug\" className=\"svg-inline--fa fa-bug fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"28px\" height=\"28px\"><path fill=\"currentColor\" d=\"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z\"></path></svg> \r\nconst nuke = <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"radiation-alt\" className=\"svg-inline--fa fa-radiation-alt fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"16px\" height=\"16px\"><path fill=\"currentColor\" d=\"M312 256h79.1c9.2 0 16.9-7.7 16-16.8-4.6-43.6-27-81.8-59.5-107.8-7.6-6.1-18.8-4.5-24 3.8L281.9 202c18 11.2 30.1 31.2 30.1 54zm-97.8 54.1L172.4 377c-4.9 7.8-2.4 18.4 5.8 22.5 21.1 10.4 44.7 16.5 69.8 16.5s48.7-6.1 69.9-16.5c8.2-4.1 10.6-14.7 5.8-22.5l-41.8-66.9c-9.8 6.2-21.4 9.9-33.8 9.9s-24.1-3.7-33.9-9.9zM104.9 256H184c0-22.8 12.1-42.8 30.2-54.1l-41.7-66.8c-5.2-8.3-16.4-9.9-24-3.8-32.6 26-54.9 64.2-59.5 107.8-1.1 9.2 6.7 16.9 15.9 16.9zM248 504c137 0 248-111 248-248S385 8 248 8 0 119 0 256s111 248 248 248zm0-432c101.5 0 184 82.5 184 184s-82.5 184-184 184S64 357.5 64 256 146.5 72 248 72zm0 216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z\"></path></svg>;\r\n interface GameState{\r\n   bugs:Decimal;\r\n   commits:Decimal;\r\n   forks:{level:number, user:string, feature:string}[];\r\n   projectName:string;\r\n   changeName:boolean;\r\n\r\n   nuking:boolean;\r\n\r\n }\r\n\r\nclass App extends React.Component {\r\n  private oldDate = Date.now();\r\n\r\n  state:GameState = {\r\n    bugs: new Decimal(5),\r\n    commits: new Decimal(5),\r\n    forks:[{level:0,user:NameGen.getUserName(5,12), feature:NameGen.getFeatureName()}],\r\n    projectName:\"\",\r\n    changeName:false,\r\n    nuking:false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const savedata = localStorage.getItem(\"savedata\");\r\n    let saveObject:any = {\r\n      bugs: new Decimal(5),\r\n      commits: new Decimal(5),\r\n      forks:[{level:0,user:NameGen.getUserName(5,12), feature:NameGen.getFeatureName()}],\r\n      projectName:\"\",\r\n      changeName:false,\r\n      nuking:false,\r\n    };\r\n    if (savedata)\r\n    {\r\n      saveObject = JSON.parse(savedata);\r\n      saveObject.bugs = Decimal.fromString(saveObject.bugs);\r\n      saveObject.commits = Decimal.fromString(saveObject.commits);\r\n    }\r\n    this.setState(saveObject)\r\n    requestAnimationFrame(this.updateBank.bind(this));\r\n  }\r\n\r\n  updateBank(){\r\n    const dt:number = (Date.now() - this.oldDate)/1000\r\n    this.oldDate = Date.now();\r\n    const oldBugs = this.state.bugs;\r\n    const oldCommits = this.state.commits;\r\n    let newBugs = new Decimal(0);\r\n    for (let i = 0; i < this.state.forks.length; i++) {\r\n      const fork = this.state.forks[i];\r\n      const earnings = Rules.earnings(fork.level,i,dt);\r\n      newBugs = newBugs.add(earnings);\r\n    }\r\n\r\n    //calculate bonuses!...\r\n    for (let i = 0; i < this.state.forks.length; i++) {\r\n      const fork = this.state.forks[i];\r\n      newBugs = newBugs.multiply(1 + Math.floor(fork.level/10)/100); //1% per 10 levels.\r\n    }\r\n\r\n    this.setState({bugs:oldBugs.add(newBugs), commits:oldCommits.add(newBugs)});\r\n    setTimeout(this.updateBank.bind(this), 100);\r\n\r\n    localStorage.setItem(\"savedata\",JSON.stringify(this.state));\r\n  }\r\n\r\n\r\n  upgrade (category: number, times:number)\r\n  {\r\n    const upgrades = this.state.forks;\r\n\r\n    const cost = Rules.recursiveCost(upgrades[category].level,category, times);\r\n    const currentBugs = this.state.bugs;\r\n\r\n    upgrades[category].level+= times;\r\n    upgrades[category].feature = NameGen.getFeatureName();\r\n\r\n    if(upgrades[category].level >= 5 && !upgrades[category+1])\r\n    {\r\n      upgrades[category+1] = {feature:NameGen.getFeatureName(), level:0,user:NameGen.getUserName(5,12)}\r\n    }\r\n\r\n\r\n    this.setState({upgrades:upgrades, bugs:currentBugs.subtract(cost)})\r\n  }\r\n\r\n  renameProject (name: string)\r\n  {\r\n    this.setState({projectName:name, changeName:false})\r\n  }\r\n\r\n  openRename()\r\n  {\r\n    this.setState({changeName:true})\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const {bugs: bank, forks: upgrades, projectName, changeName, nuking} = this.state;\r\n    return(\r\n      <div>\r\n          <PickNamePopup givenName={projectName} onPicked={this.renameProject.bind(this)} open={projectName === \"\" || changeName} />\r\n\r\n          <Alert    cancelButtonText=\"Nope, nopenopenope\"\r\n                    confirmButtonText=\"Yeah, nuke it!\"\r\n                    intent={Intent.DANGER}\r\n                    isOpen={nuking}\r\n                    onCancel={()=>this.setState({nuking:false})}\r\n                    onConfirm={()=>{localStorage.removeItem(\"savedata\"); this.componentDidMount()}}\r\n                >\r\n                    <p>\r\n                        {\"Are you sure you want to delete your save data?\"}\r\n                    </p>\r\n                </Alert>\r\n\r\n          <Navbar fixedToTop={true} color={Colors.BLACK} style={{height:100, paddingTop:10}}>\r\n            <Navbar.Heading>\r\n            <H3 style={{textAlign:\"center\"}} >\r\n              <Icon icon=\"git-repo\" iconSize={26} style={{marginRight:10}}/>\r\n              {this.state.projectName}\r\n              <Button active={false} icon={\"edit\"} minimal={true} onClick={this.openRename.bind(this)} />\r\n            </H3>\r\n            <H1 style={{textAlign:\"center\"}} ><Icon icon={bug} iconSize={44} /> {Rules.str(this.state.bugs)}</H1>\r\n            <Button style={{marginTop:-60}} minimal={true} active={false} icon={nuke} onClick={()=>this.setState({nuking:true})} />  \r\n            </Navbar.Heading>\r\n          </Navbar>\r\n\r\n        <div style={{paddingTop:100}} >\r\n          {upgrades.map((upgrade,i) => {\r\n            return <Producer key={i} bugs={bank} level={upgrade.level} user={upgrade.user} featureName={upgrade.feature} projectName={projectName} category={i} upgrade={this.upgrade.bind(this)} />\r\n          })}\r\n        </div>\r\n    </div>\r\n    )\r\n    \r\n  }\r\n}\r\n\r\ndocument.body.className = Classes.DARK;\r\ndocument.body.style.backgroundColor = Colors.BLACK;\r\nconst a = document.createElement('div');\r\ndocument.body.appendChild(a);\r\nReactDOM.render(<App />, a);\r\n\r\n\r\n"],"sourceRoot":""}